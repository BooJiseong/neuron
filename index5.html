<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë„ì•½ ì „ë„ vs ì—°ì† ì „ë„</title>
  <style>
    :root {
      --primary: #2563eb;
      --bg: #f9fafb;
      --text: #1e293b;
      --subtle: #94a3b8;
    }

    body {
      margin: 0;
      font-family: 'Noto Sans KR', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    header {
      background-color: white;
      padding: 1.5rem 2rem;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header h1 {
      margin: 0;
      font-size: 1.8rem;
      color: var(--primary);
    }

    main {
      padding: 2rem;
      max-width: 960px;
      margin: 0 auto;
    }

    section {
      margin-bottom: 4rem;
    }

    h2 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }

    p, li {
      font-size: 1.05rem;
      color: var(--text);
    }

    .domino-container {
      display: flex;
      justify-content: center; /* ì¤‘ì•™ ì •ë ¬ */
      align-items: flex-end;
      gap: 2px; /* ì‘ì€ ê°„ê²©ìœ¼ë¡œ ì¡°ë°€í•˜ê²Œ */
      margin: 2rem 0;
      background: linear-gradient(to bottom, #f8fafc 0%, #e2e8f0 100%);
      padding: 2rem;
      border-radius: 12px;
      position: relative;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
      overflow-x: auto;
      width: 800px; /* ê³ ì • ë„ˆë¹„ë¡œ ê¸¸ì´ í†µì¼ */
      height: 120px; /* ê³ ì • ë†’ì´ */
    }

    .domino {
      width: 18px;
      height: 50px;
      background: linear-gradient(145deg, #475569, #334155);
      transform-origin: bottom left;
      transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      border-radius: 2px;
      position: relative;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      flex-shrink: 0;
    }

    .domino::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
    }

    .domino::after {
      content: '';
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
    }

    /* ë‹¨ê³„ë³„ ê¸°ìš¸ê¸° - ë„˜ì–´ì§€ëŠ” ê³¼ì •ì—ì„œ ì‚¬ìš© */
    .domino.stage1 { transform: rotate(15deg); }
    .domino.stage2 { transform: rotate(30deg); }
    .domino.stage3 { transform: rotate(45deg); }
    .domino.stage4 { transform: rotate(60deg); }
    .domino.stage5 { transform: rotate(75deg); }
    .domino.upright { transform: rotate(0deg); }

    .domino.fallen {
      transform: rotate(85deg);
      box-shadow: 1px 1px 2px rgba(0,0,0,0.2);
      animation: domino-fall 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    .domino.active {
      background: linear-gradient(145deg, #ef4444, #dc2626);
      box-shadow: 0 0 8px rgba(239, 68, 68, 0.6);
      animation: pulse-glow 0.3s ease-in-out;
    }

    .domino.node {
      background: linear-gradient(145deg, #60a5fa, #3b82f6);
      border: 2px solid #1e40af;
      width: 14px; /* border í¬í•¨í•´ì„œ ì—°ì†ì „ë„ì™€ ë™ì¼í•œ ë‘ê»˜ (14px + 4px border = 18px) */
      height: 50px; /* ì—°ì†ì „ë„ì™€ ë™ì¼í•œ ë†’ì´ */
    }

    .domino.node::before,
    .domino.node::after {
      background: #fbbf24;
    }

    .domino.inactive {
      background: linear-gradient(145deg, #d1d5db, #9ca3af);
      opacity: 0.4;
    }

    .bridge {
      width: 80px; /* ë„ˆë¹„ë¥¼ ì¤„ì—¬ì„œ ì¡°ë°€í•˜ê²Œ */
      height: 8px;
      background: linear-gradient(145deg, #fbbf24, #f59e0b);
      border-radius: 4px;
      align-self: flex-end;
      position: relative;
      top: -25px; /* ë„ë¯¸ë…¸ ì¤‘ì•™ ë†’ì´ì— ë§ì¶¤ */
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      margin: 0 4px; /* ë§ˆì§„ë„ ì¤„ì„ */
      flex-shrink: 0;
      overflow: hidden;
    }

    .bridge::before {
      content: 'ë§ì´ì§‘';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      color: #f59e0b;
      font-weight: bold;
      white-space: nowrap;
    }

    .bridge::after {
      content: "";
      position: absolute;
      top: -15px;
      left: 50%;
      width: 2px;
      height: 15px;
      background: #f59e0b;
      transform: translateX(-50%);
    }

    .bridge-signal {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #ef4444;
      border-radius: 50%;
      top: 0;
      left: -8px;
      opacity: 0;
      box-shadow: 0 0 8px rgba(239, 68, 68, 0.8);
    }

    .bridge-signal.active {
      opacity: 1;
      animation: bridge-signal-move 0.3s ease-in-out forwards;
    }

    @keyframes bridge-signal-move {
      0% { 
        left: -8px;
        transform: scale(0.5);
      }
      50% {
        transform: scale(1.2);
      }
      100% { 
        left: 80px; /* ìƒˆë¡œìš´ ë§ì´ì§‘ ë„ˆë¹„ì— ë§ì¶¤ */
        transform: scale(0.8);
      }
    }

    .nerve-label {
      position: absolute;
      top: 10px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 0.9rem;
      font-weight: bold;
      color: var(--primary);
    }

    .speed-indicator {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 4px 8px;
      background: rgba(37, 99, 235, 0.1);
      border-radius: 12px;
      font-size: 0.8rem;
      color: var(--primary);
      font-weight: bold;
    }

    .wave-effect {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 4px;
      background: linear-gradient(90deg, transparent, #ef4444, transparent);
      border-radius: 2px;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .wave-effect.active {
      opacity: 1;
      animation: wave-propagate 0.5s ease-out;
    }

    @keyframes wave-propagate {
      0% { width: 0; }
      100% { width: 100%; }
    }

    @keyframes pulse-glow {
      0% { box-shadow: 0 0 5px rgba(239, 68, 68, 0.5); }
      50% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.8), 0 0 30px rgba(239, 68, 68, 0.4); }
      100% { box-shadow: 0 0 5px rgba(239, 68, 68, 0.5); }
    }

    @keyframes domino-fall {
      0% { transform: rotate(0deg); }
      20% { transform: rotate(15deg); }
      100% { transform: rotate(85deg); }
    }

    .domino.active {
      animation: pulse-glow 0.3s ease-in-out;
    }

    .simulation-status {
      text-align: center;
      margin: 1rem 0;
      font-weight: bold;
      color: var(--primary);
      min-height: 24px;
    }

    .comparison-stats {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 12px;
      margin: 2rem 0;
    }

    .comparison-stats h4 {
      margin-top: 0;
      text-align: center;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 1rem;
    }

    .stat-box {
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
    }

    .stat-number {
      font-size: 2rem;
      font-weight: bold;
      display: block;
    }

    .simulation-controls {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 2rem;
    }

    .btn-secondary {
      background: #64748b;
      color: white;
    }

    .btn-secondary:hover {
      background: #475569;
    }

    .axon-container {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .axon {
      position: relative;
      width: 100%;
      height: 24px;
      background: #e2e8f0;
      border-radius: 12px;
      overflow: hidden;
    }

    .axon.m {
      background: repeating-linear-gradient(to right, #60a5fa 0 10%, #93c5fd 10% 20%);
    }

    .signal {
      position: absolute;
      width: 20px;
      height: 20px;
      background: red;
      border-radius: 50%;
      top: 2px;
      left: 0;
    }

    .btn {
      display: inline-block;
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
    }

    .btn:hover {
      background: #1e40af;
    }

    footer {
      text-align: center;
      padding: 2rem;
      color: var(--subtle);
    }
  </style>
</head>
<body>
  <header>
    <h1>ë„ì•½ ì „ë„ vs ì—°ì† ì „ë„ ë¹„êµ ì‹œë®¬ë ˆì´í„°</h1>
  </header>
  <main>
    <section>
      <h2>1. ë„ë¯¸ë…¸ ë¹„êµ ì‹œë®¬ë ˆì´ì…˜</h2>
      <p>ì•„ë˜ëŠ” <strong>ì¡°ë°€í•œ ê°„ê²©</strong>ìœ¼ë¡œ ë°°ì¹˜ëœ ë„ë¯¸ë…¸ë“¤ì´ ì—°ì†ì ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ëª¨ìŠµê³¼ ì¤‘ì•™ ì •ë ¬ëœ ë„ì•½ ì „ë„ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•œ ê²ƒì…ë‹ˆë‹¤.</p>
      
      <div style="background: #f1f5f9; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; border-left: 4px solid var(--primary);">
        <h4 style="margin-top: 0; color: var(--primary);">ğŸ’¡ ì‹œë®¬ë ˆì´ì…˜ í•´ì„ ê°€ì´ë“œ</h4>
        <ul style="margin-bottom: 0;">
          <li><strong>íšŒìƒ‰ ë„ë¯¸ë…¸:</strong> ì¼ë°˜ ì‹ ê²½ ì„¸í¬ë§‰ (ì¡°ë°€í•œ ê°„ê²©)</li>
          <li><strong>íŒŒë€ìƒ‰ ë„ë¯¸ë…¸:</strong> ë‘ë¹„ì— ê²°ì ˆ (ì—°ì†ì „ë„ì™€ ë™ì¼í•œ ë‘ê»˜)</li>
          <li><strong>ë…¸ë€ìƒ‰ ë§ì´ì§‘:</strong> ì ˆì—°ì²´ ì—­í•  + ë¹ ë¥¸ ì‹ í˜¸ ì „ë‹¬</li>
          <li><strong>ë¹¨ê°„ ì‹ í˜¸êµ¬:</strong> ë§ì´ì§‘ì„ í†µí•œ ë¹ ë¥¸ ì‹ í˜¸ ì´ë™</li>
          <li><strong>ë¹¨ê°„ ë¹›:</strong> í™œë™ì „ìœ„ ë°œìƒ</li>
          <li><strong>ğŸ¯ ë„ì•½ì „ë„ê°€ ì¤‘ì•™ì— ì •ë ¬ë˜ì–´ ë¹„êµí•˜ê¸° ì‰¬ì›€!</strong></li>
        </ul>
      </div>
      
      <div style="margin-bottom: 3rem;">
        <h3>ğŸ§  ë¯¼ë§ì´ì§‘ ì‹ ê²½ (ì—°ì† ì „ë„)</h3>
        <p style="font-size: 0.9rem; color: var(--subtle); margin-bottom: 1rem;">
          <strong>íŠ¹ì§•:</strong> ëª¨ë“  ì§€ì ì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ í™œë™ì „ìœ„ê°€ ë°œìƒí•˜ì—¬ ì¡°ë°€í•œ ê°„ê²©ìœ¼ë¡œ ì²œì²œíˆ ì „ë‹¬ë©ë‹ˆë‹¤. <br>
          <strong>ì†ë„:</strong> ~1m/s | <strong>ì—ë„ˆì§€ ì†Œëª¨:</strong> ë†’ìŒ | <strong>ì‹ ê²½:</strong> ê°ê°ì‹ ê²½, ììœ¨ì‹ ê²½
        </p>
        <div class="domino-container" id="domino-continuous">
          <div class="nerve-label">ì¡°ë°€í•œ ì—°ì†ì  ì‹ í˜¸ ì „ë‹¬</div>
          <div class="speed-indicator">ëŠë¦¼ ğŸŒ</div>
          <div class="wave-effect" id="wave-continuous"></div>
        </div>
      </div>

      <div style="margin-bottom: 3rem;">
        <h3>âš¡ ë§ì´ì§‘ ì‹ ê²½ (ë„ì•½ ì „ë„)</h3>
        <p style="font-size: 0.9rem; color: var(--subtle); margin-bottom: 1rem;">
          <strong>íŠ¹ì§•:</strong> ë‘ë¹„ì— ê²°ì ˆì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ë„ë¯¸ë…¸(ì—°ì†ì „ë„ì™€ ë™ì¼ ë‘ê»˜)ê°€ ë„˜ì–´ì§€ê³ , ë§ì´ì§‘ì´ ì‹ í˜¸ë¥¼ ë¹ ë¥´ê²Œ ì „ë‹¬í•´ì„œ ë‹¤ìŒ ê²°ì ˆì„ í™œì„±í™”í•©ë‹ˆë‹¤. <br>
          <strong>ì†ë„:</strong> ~100m/s | <strong>ì—ë„ˆì§€ ì†Œëª¨:</strong> ë‚®ìŒ | <strong>ì‹ ê²½:</strong> ìš´ë™ì‹ ê²½, ì²´ì„±ê°ê°ì‹ ê²½
        </p>
        <div class="domino-container" id="domino-saltatory">
          <div class="nerve-label">ì¤‘ì•™ ì •ë ¬ëœ ë„ì•½ì  ì—°ì‡„ë°˜ì‘</div>
          <div class="speed-indicator">ë¹ ë¦„ ğŸš€</div>
          <div class="wave-effect" id="wave-saltatory"></div>
        </div>
      </div>

      <div class="simulation-controls">
        <button class="btn" onclick="showStaticPattern()">ğŸ“š ì •ì  íŒ¨í„´ ë³´ê¸°</button>
        <button class="btn" onclick="startDominoSimulation()">ğŸ¬ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘</button>
        <button class="btn-secondary btn" onclick="resetDominoes()">ğŸ”„ ì´ˆê¸°í™”</button>
        <button class="btn-secondary btn" onclick="slowMotion()">ğŸŒ ìŠ¬ë¡œìš° ëª¨ì…˜</button>
      </div>

      <div class="simulation-status" id="simulation-status"></div>

      <div class="comparison-stats">
        <h4>ğŸ“Š ì „ë„ ì†ë„ ë¹„êµ</h4>
        <div class="stats-grid">
          <div class="stat-box">
            <span class="stat-number">1m/s</span>
            <div>ì—°ì† ì „ë„</div>
            <small>ë¯¼ë§ì´ì§‘ ì‹ ê²½</small>
          </div>
          <div class="stat-box">
            <span class="stat-number">100m/s</span>
            <div>ë„ì•½ ì „ë„</div>
            <small>ë§ì´ì§‘ ì‹ ê²½</small>
          </div>
        </div>
        <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; opacity: 0.9;">
          ğŸ’¡ ë§ì´ì§‘ ì‹ ê²½ì´ <strong>100ë°° ë” ë¹ ë¥´ê²Œ</strong> ì‹ í˜¸ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤!
        </p>
      </div>

      <div style="background: #ecfdf5; padding: 1.5rem; border-radius: 12px; margin-top: 2rem; border-left: 4px solid #10b981;">
        <h4 style="margin-top: 0; color: #10b981;">ğŸ”¬ ì‹¤ì œ ìƒë¬¼í•™ì  ì˜ë¯¸</h4>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
          <div>
            <h5 style="color: #059669; margin-bottom: 0.5rem;">ì—°ì† ì „ë„</h5>
            <ul style="font-size: 0.9rem; margin: 0;">
              <li>ë‚˜íŠ¸ë¥¨ ì±„ë„ì´ ì¶•ì‚­ ì „ì²´ì— ë¶„í¬</li>
              <li>ë§¤ ì§€ì ì—ì„œ íƒˆë¶„ê·¹ ë°œìƒ</li>
              <li>ëŠë¦¬ì§€ë§Œ í™•ì‹¤í•œ ì‹ í˜¸ ì „ë‹¬</li>
              <li>ì˜ˆ: ë‚´ì¥ ì‹ ê²½, Cì„¬ìœ </li>
            </ul>
          </div>
          <div>
            <h5 style="color: #059669; margin-bottom: 0.5rem;">ë„ì•½ ì „ë„</h5>
            <ul style="font-size: 0.9rem; margin: 0;">
              <li>ë‚˜íŠ¸ë¥¨ ì±„ë„ì´ ê²°ì ˆì—ë§Œ ì§‘ì¤‘</li>
              <li>ë§ì´ì§‘ êµ¬ê°„ì€ ì ˆì—°ì²´ ì—­í• </li>
              <li>ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ì‹ í˜¸ ì „ë‹¬</li>
              <li>ì˜ˆ: ìš´ë™ì‹ ê²½, AÎ±ì„¬ìœ </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section>
      <h2>2. ì‹ ê²½ ì¶•ì‚­ ì „ë„ ì‹œë®¬ë ˆì´ì…˜</h2>
      <p>ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‘ ì‹ ê²½ì˜ í¥ë¶„ ì „ë„ ì†ë„ë¥¼ ë¹„êµí•´ë³´ì„¸ìš”.</p>
      <div class="axon-container">
        <div>
          <p><strong>ë§ì´ì§‘ ì‹ ê²½ (ë„ì•½ ì „ë„)</strong></p>
          <div class="axon m" id="myelinated">
            <div class="signal" id="signalM"></div>
          </div>
        </div>
        <div>
          <p><strong>ë¯¼ë§ì´ì§‘ ì‹ ê²½ (ì—°ì† ì „ë„)</strong></p>
          <div class="axon" id="unmyelinated">
            <div class="signal" id="signalU"></div>
          </div>
        </div>
      </div>
      <br>
      <button class="btn" onclick="startAxonSimulation()">ì „ë„ ì‹œì‘</button>
    </section>
  </main>

  <footer>
    &copy; 2025 ì‹ ê²½ê³¼í•™ êµìœ¡ í”„ë¡œê·¸ë¨ by Jiseong Edu
  </footer>

  <script>
    let isAnimating = false;
    let animationSpeed = 1;

    function createDominoes() {
      const cont = document.getElementById('domino-continuous');
      const salt = document.getElementById('domino-saltatory');
      
      // ê¸°ì¡´ ìš”ì†Œë“¤ ìœ ì§€í•˜ë©´ì„œ ë„ë¯¸ë…¸ë§Œ ì´ˆê¸°í™”
      cont.innerHTML = cont.querySelector('.nerve-label').outerHTML + 
                      cont.querySelector('.speed-indicator').outerHTML + 
                      cont.querySelector('.wave-effect').outerHTML;
      salt.innerHTML = salt.querySelector('.nerve-label').outerHTML + 
                      salt.querySelector('.speed-indicator').outerHTML + 
                      salt.querySelector('.wave-effect').outerHTML;

      // ì—°ì† ì „ë„: ë” ë§ì€ ë„ë¯¸ë…¸ë¡œ ì¡°ë°€í•˜ê²Œ (ê°„ê²©ì´ ì¤„ì–´ë“  ë§Œí¼ ê°œìˆ˜ ëŠ˜ë¦¼)
      for (let i = 0; i < 28; i++) {
        const d = document.createElement('div');
        d.className = 'domino upright';
        cont.appendChild(d);
      }

      // ë„ì•½ ì „ë„: 16ê°œ ë„ë¯¸ë…¸ ì‚¬ìš© (4ê·¸ë£¹ Ã— 4ê°œ)
      // 4ê·¸ë£¹ Ã— 4ê°œ + 3ê°œ ë§ì´ì§‘ = ì´ 19ê°œ ìš”ì†Œ
      for (let group = 0; group < 4; group++) {
        // ë‘ë¹„ì— ê²°ì ˆ (í™œì„± ë„ë¯¸ë…¸ 4ê°œ)
        for (let i = 0; i < 4; i++) {
          const d = document.createElement('div');
          d.className = 'domino upright node';
          d.dataset.group = group;
          d.dataset.index = i;
          salt.appendChild(d);
        }
        
        // ë§ì´ì§‘ êµ¬ê°„ (ë§ˆì§€ë§‰ ê·¸ë£¹ ì œì™¸)
        if (group < 3) {
          const bridge = document.createElement('div');
          bridge.className = 'bridge';
          bridge.dataset.bridge = group;
          
          // ë§ì´ì§‘ ì‹ í˜¸ ìš”ì†Œ ì¶”ê°€
          const signal = document.createElement('div');
          signal.className = 'bridge-signal';
          bridge.appendChild(signal);
          
          salt.appendChild(bridge);
        }
      }
    }

    function animateDominoes(dominoes, delay) {
      Array.from(dominoes).forEach((domino, i) => {
        setTimeout(() => {
          domino.classList.add('active');
          setTimeout(() => {
            domino.classList.remove('active');
            domino.classList.add('fallen');
          }, 100);
        }, delay * i);
      });
    }

    function animateSaltatoryConduction() {
      const nodeGroups = [];
      const bridges = [];
      
      // ê·¸ë£¹ë³„ë¡œ ë„ë¯¸ë…¸ì™€ ë§ì´ì§‘ ì •ë¦¬ (4ê·¸ë£¹)
      for (let i = 0; i < 4; i++) {
        const groupDominoes = document.querySelectorAll(`#domino-saltatory .domino.node[data-group="${i}"]`);
        nodeGroups.push(Array.from(groupDominoes));
        
        if (i < 3) {
          const bridge = document.querySelector(`#domino-saltatory .bridge[data-bridge="${i}"]`);
          bridges.push(bridge);
        }
      }
      
      let currentTime = 0;
      
      // ê° ê·¸ë£¹ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬
      nodeGroups.forEach((group, groupIndex) => {
        // ê° ê·¸ë£¹ì˜ ë„ë¯¸ë…¸ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ë„˜ì–´ëœ¨ë¦¼ (4ê°œì”©)
        group.forEach((domino, dominoIndex) => {
          setTimeout(() => {
            domino.classList.add('active');
            setTimeout(() => {
              domino.classList.remove('active');
              domino.classList.add('fallen');
              
              // ê·¸ë£¹ì˜ ë§ˆì§€ë§‰ ë„ë¯¸ë…¸ê°€ ë„˜ì–´ì§€ê³ , ë‹¤ìŒ ë§ì´ì§‘ì´ ìˆìœ¼ë©´ ì‹ í˜¸ ì „ë‹¬
              if (dominoIndex === group.length - 1 && groupIndex < bridges.length) {
                setTimeout(() => {
                  const bridge = bridges[groupIndex];
                  const signal = bridge.querySelector('.bridge-signal');
                  signal.classList.add('active');
                  
                  // ì‹ í˜¸ ì „ë‹¬ ì™„ë£Œ í›„ ë¦¬ì…‹
                  setTimeout(() => {
                    signal.classList.remove('active');
                  }, 300 / animationSpeed);
                }, 100 / animationSpeed);
              }
            }, 100 / animationSpeed);
          }, (currentTime + (dominoIndex * 60)) / animationSpeed);
        });
        
        // ë‹¤ìŒ ê·¸ë£¹ ì‹œì‘ ì‹œê°„ ê³„ì‚° (ê·¸ë£¹ë“¤ì´ ì¼ë¶€ ê²¹ì¹˜ë„ë¡)
        currentTime += (group.length * 60) + 150; // ë¹ ë¥¸ ì—°ì‡„ë°˜ì‘
      });
    }

    function startDominoSimulation() {
      if (isAnimating) return;
      isAnimating = true;
      
      const statusEl = document.getElementById('simulation-status');
      statusEl.textContent = 'ğŸ¬ ì‹œë®¬ë ˆì´ì…˜ ì§„í–‰ ì¤‘...';
      
      createDominoes();
      
      setTimeout(() => {
        statusEl.textContent = 'âš¡ ì‹ ê²½ ì‹ í˜¸ ì „ë‹¬ ì¤‘...';
        
        // ì—°ì† ì „ë„: ëª¨ë“  ë„ë¯¸ë…¸ ìˆœì°¨ì ìœ¼ë¡œ (ì¡°ë°€í•œ ê°„ê²©)
        const continuousDominoes = document.querySelectorAll('#domino-continuous .domino');
        animateDominoes(continuousDominoes, 60 / animationSpeed);
        
        // ë„ì•½ ì „ë„: ìƒˆë¡œìš´ ì—°ì‡„ë°˜ì‘ ë°©ì‹ (ë” ë¹ ë¥´ê²Œ)
        animateSaltatoryConduction();
        
        setTimeout(() => {
          isAnimating = false;
          statusEl.textContent = 'âœ… ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ! ì¡°ë°€í•œ ë°°ì¹˜ì—ì„œ ë„ì•½ ì „ë„ê°€ ë” ë¹ ë¥¸ ê²ƒì„ í™•ì¸í•´ë³´ì„¸ìš”!';
        }, 3500 / animationSpeed);
      }, 500);
    }

    function showStaticPattern() {
      createDominoes();
      
      const statusEl = document.getElementById('simulation-status');
      statusEl.textContent = 'ğŸ“š ëª¨ë“  ë„ë¯¸ë…¸ê°€ ì¡°ë°€í•˜ê²Œ ë°°ì¹˜ë˜ì–´ ë˜‘ë°”ë¡œ ì„œ ìˆìŠµë‹ˆë‹¤. ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì—°ì‡„ë°˜ì‘ì„ í™•ì¸í•´ë³´ì„¸ìš”!';
    }

    function resetDominoes() {
      const containers = [document.getElementById('domino-continuous'), 
                         document.getElementById('domino-saltatory')];
      
      // ê¸°ì¡´ ë„ë¯¸ë…¸ë“¤ê³¼ ë§ì´ì§‘ ì œê±°
      containers.forEach(container => {
        const dominoes = container.querySelectorAll('.domino');
        dominoes.forEach(d => d.remove());
        
        const bridges = container.querySelectorAll('.bridge');
        bridges.forEach(b => b.remove());
        
        // ë§ì´ì§‘ ì‹ í˜¸ë“¤ë„ ë¦¬ì…‹
        const signals = container.querySelectorAll('.bridge-signal');
        signals.forEach(s => s.classList.remove('active'));
        
        const wave = container.querySelector('.wave-effect');
        if (wave) wave.classList.remove('active');
      });
      
      // ì •ì  íŒ¨í„´ìœ¼ë¡œ ë‹¤ì‹œ ìƒì„±
      createDominoes();
      
      animationSpeed = 1;
      const button = document.querySelector('button[onclick="slowMotion()"]');
      if (button) button.textContent = 'ğŸŒ ìŠ¬ë¡œìš° ëª¨ì…˜';
      
      const statusEl = document.getElementById('simulation-status');
      if (statusEl) statusEl.textContent = '';
    }

    function slowMotion() {
      const button = document.querySelector('button[onclick="slowMotion()"]');
      if (animationSpeed === 1) {
        animationSpeed = 0.3;
        button.textContent = 'âš¡ ì •ìƒ ì†ë„';
      } else {
        animationSpeed = 1;
        button.textContent = 'ğŸŒ ìŠ¬ë¡œìš° ëª¨ì…˜';
      }
    }

    function animateSignal(signal, duration) {
      let start = null;
      const distance = document.querySelector(".axon").offsetWidth - 20;

      function step(timestamp) {
        if (!start) start = timestamp;
        const progress = timestamp - start;
        const percent = Math.min(progress / duration, 1);
        signal.style.left = percent * distance + 'px';

        if (percent < 1) {
          requestAnimationFrame(step);
        }
      }

      requestAnimationFrame(step);
    }

    function startAxonSimulation() {
      const signalM = document.getElementById('signalM');
      const signalU = document.getElementById('signalU');
      signalM.style.left = '0px';
      signalU.style.left = '0px';
      
      // ì‹¤ì œ ì†ë„ ë¹„ìœ¨ì— ë§ê²Œ: ë§ì´ì§‘ ì‹ ê²½(100m/s) vs ë¯¼ë§ì´ì§‘ ì‹ ê²½(1m/s) = 100ë°° ì°¨ì´
      animateSignal(signalM, 500);    // ë§ì´ì§‘ ì‹ ê²½: 0.5ì´ˆ (ë¹ ë¦„)
      animateSignal(signalU, 50000);  // ë¯¼ë§ì´ì§‘ ì‹ ê²½: 50ì´ˆ (100ë°° ëŠë¦¼)
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì •ì  íŒ¨í„´ í‘œì‹œ
    document.addEventListener('DOMContentLoaded', function() {
      showStaticPattern();
    });
  </script>
</body>
</html>
